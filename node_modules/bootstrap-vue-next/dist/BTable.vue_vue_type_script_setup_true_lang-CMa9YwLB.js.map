{"version":3,"file":"BTable.vue_vue_type_script_setup_true_lang-CMa9YwLB.js","sources":["../src/utils/formatItem.ts","../src/types/TableTypes.ts","../src/components/BTable/BTbody.vue","../src/components/BTable/BTd.vue","../src/components/BTable/BTfoot.vue","../src/components/BTable/BTh.vue","../src/components/BTable/BThead.vue","../src/components/BTable/BTr.vue","../src/utils/filterEvent.ts","../src/components/BTable/BTableLite.vue","../src/components/SortIcon.vue","../src/components/BTable/BTable.vue"],"sourcesContent":["import type {TableFieldFormatter} from '../types/TableTypes'\nimport {get} from './object'\n\nexport const formatItem = <T>(\n  item: T,\n  // Weakly type fieldKey because it can be a nested string, such as 'foo.bar.baz'\n  fieldKey: string,\n  formatter?: TableFieldFormatter<T>\n) => {\n  const val = get(item, fieldKey)\n  return formatter && typeof formatter === 'function' ? formatter(val, fieldKey, item) : val\n}\n","import type {StyleValue} from 'vue'\nimport type {ColorVariant} from './ColorTypes'\nimport type {MaybePromise} from './MaybePromise'\nimport type {LiteralUnion} from './LiteralUnion'\nimport type {AttrsValue, ClassValue} from './AnyValuedAttributes'\n\nexport type TableRowEvent<T> = [item: T, index: number, event: MouseEvent]\n\nexport type TableItem<T = Record<string, unknown>> = T & {\n  _rowVariant?: ColorVariant | null\n  _cellVariants?: Partial<Record<keyof T, ColorVariant>>\n  _showDetails?: boolean\n}\n\nexport const isTableItem = (value: unknown): value is TableItem =>\n  typeof value === 'object' && value !== null\n\n/**\n * `undefined` means it's not sorting this column. It is set to undefined rather than removed from the array because\n * we don't want to make updates that remove the comparer function from the value.\n */\nexport type BTableSortByOrder = 'desc' | 'asc' | undefined\n\n/**\n * Initial sort direction for table fields. Includes 'last' option to maintain the direction of the previously sorted column.\n */\nexport type BTableInitialSortDirection = 'desc' | 'asc' | 'last'\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type BTableSortByComparerFunction<T = any> = (a: T, b: T, key: string) => number\n\nexport type BTableSortBy = {\n  order: BTableSortByOrder\n  key: string\n}\n\nexport type BTableProviderContext = {\n  sortBy: BTableSortBy[] | undefined\n  filter: string | undefined\n  currentPage: number\n  perPage: number\n  signal: AbortSignal\n}\n\nexport type BTableProvider<T> = (\n  context: Readonly<BTableProviderContext>\n) => MaybePromise<T[] | undefined>\n\nexport type TableFieldFormatter<T> = (value: unknown, key: string, item: T) => string\n\nexport type TableRowType = 'row' | 'row-details' | 'row-top' | 'row-bottom' | 'table-busy'\nexport type TableRowThead = 'top' | 'bottom'\n\nexport type TableStrictClassValue = string | unknown[] | Record<string, boolean>\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type TableField<T = any> = {\n  class?: ClassValue\n  filterByFormatted?: boolean | TableFieldFormatter<T>\n  formatter?: TableFieldFormatter<T>\n  isRowHeader?: boolean\n  key: LiteralUnion<keyof T>\n  headerTitle?: string\n  headerAbbr?: string\n  label?: string\n  sortable?: boolean\n  sortDirection?: string\n  sortByFormatted?: boolean | TableFieldFormatter<T>\n  sortCompare?: BTableSortByComparerFunction<T>\n  stickyColumn?: boolean\n  scope?: TableThScope\n  initialSortDirection?: BTableInitialSortDirection\n  tdClass?:\n    | TableStrictClassValue\n    | ((value: unknown, key: string, item: T) => TableStrictClassValue)\n  thClass?: ClassValue\n  thStyle?: StyleValue\n  tdAttr?: AttrsValue | ((value: unknown, key: string, item: T) => AttrsValue)\n  thAttr?:\n    | AttrsValue\n    | ((value: unknown, key: string, item: T | null, type: TableRowThead) => AttrsValue)\n  variant?: ColorVariant | null\n}\n\nexport type TableFieldRaw<T = unknown> = T extends object\n  ? LiteralUnion<keyof T> | TableField<T>\n  : string | TableField\n\nexport const isTableField = <T>(value: unknown): value is TableField<T> =>\n  typeof value === 'object' && value !== null && 'key' in value\n\nexport const isTableFieldRaw = <T>(value: unknown): value is TableFieldRaw<T> =>\n  typeof value === 'string' || isTableField(value)\n\nexport type NoProviderTypes = 'paging' | 'sorting' | 'filtering'\n\nexport type TableThScope = 'row' | 'col' | 'rowgroup' | 'colgroup'\n","<template>\n  <tbody :class=\"computedClasses\">\n    <slot />\n  </tbody>\n</template>\n\n<script setup lang=\"ts\">\nimport type {BTbodySlots} from '../../types'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BTbodyProps} from '../../types/ComponentProps'\nimport {computed} from 'vue'\n\nconst _props = withDefaults(defineProps<BTbodyProps>(), {\n  variant: null,\n})\nconst props = useDefaults(_props, 'BTbody')\ndefineSlots<BTbodySlots>()\n\nconst computedClasses = computed(() => ({\n  [`thead-${props.variant}`]: props.variant !== null,\n}))\n</script>\n","<template>\n  <td\n    :class=\"computedClasses\"\n    :colspan=\"props.colspan\"\n    :rowspan=\"props.rowspan\"\n    :data-label=\"props.stackedHeading\"\n  >\n    <div v-if=\"props.stackedHeading\">\n      <slot />\n    </div>\n    <slot v-else />\n  </td>\n</template>\n\n<script setup lang=\"ts\">\nimport type {BTdSlots} from '../../types'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BTdProps} from '../../types/ComponentProps'\nimport {computed} from 'vue'\n\nconst _props = withDefaults(defineProps<BTdProps>(), {\n  colspan: undefined,\n  rowspan: undefined,\n  stackedHeading: undefined,\n  stickyColumn: false,\n  variant: null,\n})\nconst props = useDefaults(_props, 'BTd')\ndefineSlots<BTdSlots>()\n\nconst computedClasses = computed(() => ({\n  [`table-${props.variant}`]: props.variant !== null,\n  'b-table-sticky-column': props.stickyColumn,\n  'table-b-table-default': props.stickyColumn && props.variant === null,\n}))\n</script>\n","<template>\n  <tfoot :class=\"computedClasses\">\n    <slot />\n  </tfoot>\n</template>\n\n<script setup lang=\"ts\">\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BTfootProps} from '../../types/ComponentProps'\nimport {computed} from 'vue'\nimport type {BTfootSlots} from '../../types/ComponentSlots'\n\nconst _props = withDefaults(defineProps<BTfootProps>(), {\n  variant: null,\n})\nconst props = useDefaults(_props, 'BTfoot')\ndefineSlots<BTfootSlots>()\n\nconst computedClasses = computed(() => ({\n  [`table-${props.variant}`]: props.variant !== null,\n}))\n</script>\n","<template>\n  <th\n    :scope=\"localScope\"\n    :class=\"computedClasses\"\n    :colspan=\"props.colspan\"\n    :rowspan=\"props.rowspan\"\n    :data-label=\"props.stackedHeading\"\n  >\n    <div v-if=\"props.stackedHeading !== undefined\">\n      <slot />\n    </div>\n    <slot v-else />\n  </th>\n</template>\n\n<script setup lang=\"ts\">\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BThProps} from '../../types/ComponentProps'\nimport {computed} from 'vue'\nimport type {BThSlots} from '../../types/ComponentSlots'\n\nconst _props = withDefaults(defineProps<BThProps>(), {\n  colspan: undefined,\n  rowspan: undefined,\n  stackedHeading: undefined,\n  stickyColumn: false,\n  variant: null,\n  scope: undefined,\n})\nconst props = useDefaults(_props, 'BTh')\ndefineSlots<BThSlots>()\n\nconst computedClasses = computed(() => ({\n  [`table-${props.variant}`]: props.variant !== null,\n  'b-table-sticky-column': props.stickyColumn,\n  'table-b-table-default': props.stickyColumn && props.variant === null,\n}))\n\nconst localScope = computed(() =>\n  props.scope ? props.scope : props.colspan ? 'colgroup' : props.rowspan ? 'rowgroup' : 'col'\n)\n</script>\n","<template>\n  <thead :class=\"computedClasses\">\n    <slot />\n  </thead>\n</template>\n\n<script setup lang=\"ts\">\nimport type {BTheadSlots} from '../../types'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BTheadProps} from '../../types/ComponentProps'\nimport {computed} from 'vue'\n\nconst _props = withDefaults(defineProps<BTheadProps>(), {\n  variant: null,\n})\nconst props = useDefaults(_props, 'BThead')\ndefineSlots<BTheadSlots>()\n\nconst computedClasses = computed(() => ({\n  [`table-${props.variant}`]: props.variant !== null,\n}))\n</script>\n","<template>\n  <tr :class=\"computedClasses\">\n    <slot />\n  </tr>\n</template>\n\n<script setup lang=\"ts\">\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BTrProps} from '../../types/ComponentProps'\nimport {computed} from 'vue'\nimport type {BTrSlots} from '../../types/ComponentSlots'\n\nconst _props = withDefaults(defineProps<BTrProps>(), {\n  variant: null,\n})\nconst props = useDefaults(_props, 'BTr')\ndefineSlots<BTrSlots>()\n\nconst computedClasses = computed(() => ({\n  [`table-${props.variant}`]: props.variant !== null,\n}))\n</script>\n","const TABLE_TAG_NAMES = ['TD', 'TH', 'TR']\n\n// Filter CSS selector for click/dblclick/etc. events\n// If any of these selectors match the clicked element, we ignore the event\nconst eventFilter = [\n  'a',\n  'a *', // Include content inside links\n  'button',\n  'button *', // Include content inside buttons\n  'input:not(.disabled):not([disabled])',\n  'select:not(.disabled):not([disabled])',\n  'textarea:not(.disabled):not([disabled])',\n  '[role=\"link\"]',\n  '[role=\"link\"] *',\n  '[role=\"button\"]',\n  '[role=\"button\"] *',\n  '[tabindex]:not(.disabled):not([disabled])',\n].join(',')\n\n// Returns `true` if we should ignore the click/double-click/keypress event\n// Avoids having the user need to use `@click.stop` on the form control\nexport const filterEvent = (event: Readonly<Event>) => {\n  // Exit early when we don't have a target element\n  if (!event || !event.target) {\n    return false\n  }\n  const el = event.target as HTMLElement\n  // Exit early when element is disabled or a table element\n  if (('disabled' in el && el.disabled) || TABLE_TAG_NAMES.indexOf(el.tagName) !== -1) {\n    return false\n  }\n  // Ignore the click when it was inside a dropdown menu\n  if (el.closest('.dropdown-menu')) return true\n\n  const label = el.tagName === 'LABEL' ? el : el.closest('label')\n  // If the label's form control is not disabled then we don't propagate event\n  // Modern browsers have `label.control` that references the associated input, but IE 11\n  // does not have this property on the label element, so we resort to DOM lookups\n  if (label) {\n    const labelFor = label.getAttribute('for')\n    const input = labelFor\n      ? document.getElementById(labelFor)\n      : label.querySelector('input, select, textarea')\n    if (input && !(input as HTMLInputElement).disabled) {\n      return true\n    }\n  }\n  // Otherwise check if the event target matches one of the selectors in the\n  // event filter (i.e. anchors, non disabled inputs, etc.)\n  // Return `true` if we should ignore the event\n  return el.matches(eventFilter)\n}\n","<template>\n  <BTableSimple v-bind=\"computedSimpleProps\">\n    <colgroup v-if=\"slots['table-colgroup']\">\n      <slot name=\"table-colgroup\" :fields=\"computedFields\" />\n    </colgroup>\n    <BThead v-show=\"showComputedHeaders\" :variant=\"props.headVariant\" :class=\"props.theadClass\">\n      <slot name=\"thead-top\" :columns=\"computedFieldsTotal\" :fields=\"computedFields\" />\n      <BTr :variant=\"props.headRowVariant\" :class=\"props.theadTrClass\">\n        <BTh\n          v-for=\"field in computedFields\"\n          :key=\"field.key\"\n          :scope=\"field.scope\"\n          :class=\"getFieldColumnClasses(field)\"\n          :title=\"field.headerTitle\"\n          :variant=\"field.variant\"\n          :abbr=\"field.headerAbbr\"\n          :style=\"field.thStyle\"\n          :tabindex=\"shouldHeaderBeFocusable(field) ? '0' : undefined\"\n          v-bind=\"callThAttr(null, field, 'top')\"\n          @click=\"headerClicked(field, $event)\"\n          @keydown=\"handleHeaderKeydown(field, $event)\"\n        >\n          <!-- eslint-disable prettier/prettier -->\n          <slot\n            :name=\"\n              slots[`head(${String(field.key)})`]\n                ? (`head(${String(field.key)})` as 'head()')\n                : 'head()'\n            \"\n            :label=\"field.label\"\n            :column=\"field.key as LiteralUnion<keyof Items>\"\n            :field\n            :is-foot=\"false\"\n          >\n            <!-- eslint-enable prettier/prettier -->\n            {{ getTableFieldHeadLabel(field) }}\n          </slot>\n        </BTh>\n      </BTr>\n      <BTr v-if=\"slots['thead-sub']\">\n        <BTd\n          v-for=\"field in computedFields\"\n          :key=\"field.key\"\n          scope=\"col\"\n          :variant=\"field.variant\"\n          :class=\"[field.class, field.thClass]\"\n        >\n          <slot name=\"thead-sub\" :items=\"props.items\" :fields=\"computedFields\" :field>\n            {{ field.label }}\n          </slot>\n        </BTd>\n      </BTr>\n    </BThead>\n    <BTbody :class=\"props.tbodyClass\">\n      <slot\n        name=\"custom-body\"\n        :fields=\"computedFields\"\n        :items=\"props.items\"\n        :columns=\"computedFieldsTotal\"\n      >\n        <BTr\n          v-if=\"!props.stacked && slots['top-row']\"\n          :class=\"getRowClasses(null, 'row-top')\"\n          v-bind=\"callTbodyTrAttrs(null, 'row-top')\"\n        >\n          <slot name=\"top-row\" :columns=\"computedFieldsTotal\" :fields=\"computedFields\" />\n        </BTr>\n\n        <template\n          v-for=\"(item, itemIndex) in props.items\"\n          :key=\"\n            props.primaryKey && get(item, props.primaryKey)\n              ? get(item, props.primaryKey)\n              : itemIndex\n          \"\n        >\n          <BTr\n            :id=\"\n              props.primaryKey && get(item, props.primaryKey)\n                ? generateTableRowId(get(item, props.primaryKey))\n                : undefined\n            \"\n            :class=\"getRowClasses(item, 'row')\"\n            :variant=\"isTableItem(item) ? item._rowVariant : undefined\"\n            :tabindex=\"shouldRowBeFocusable ? '0' : undefined\"\n            v-bind=\"callTbodyTrAttrs(item, 'row')\"\n            @click=\"!filterEvent($event) && emit('row-clicked', item, itemIndex, $event)\"\n            @dblclick=\"!filterEvent($event) && emit('row-dblclicked', item, itemIndex, $event)\"\n            @contextmenu=\"!filterEvent($event) && emit('row-contextmenu', item, itemIndex, $event)\"\n            @mouseenter=\"!filterEvent($event) && emit('row-hovered', item, itemIndex, $event)\"\n            @mouseleave=\"!filterEvent($event) && emit('row-unhovered', item, itemIndex, $event)\"\n            @mousedown=\"handleMiddleClick(item, itemIndex, $event)\"\n            @keydown=\"handleRowKeydown(item, itemIndex, $event)\"\n          >\n            <component\n              :is=\"getCellComponent(field)\"\n              v-for=\"field in computedFields\"\n              :key=\"field.key\"\n              :variant=\"\n                (isTableItem(item) ? item._cellVariants?.[field.key as string] : false)\n                  ? null\n                  : field.variant\n              \"\n              :class=\"getFieldRowClasses(field, item)\"\n              v-bind=\"itemAttributes(item, String(field.key), field.tdAttr)\"\n            >\n              <label v-if=\"props.stacked && props.labelStacked\" class=\"b-table-stacked-label\">\n                {{ getTableFieldHeadLabel(field) }}\n              </label>\n              <slot\n                :name=\"\n                  slots[`cell(${String(field.key)})`]\n                    ? (`cell(${String(field.key)})` as 'cell()')\n                    : 'cell()'\n                \"\n                :value=\"formatItem(item, String(field.key), field.formatter)\"\n                :unformatted=\"get(item, String(field.key))\"\n                :index=\"itemIndex\"\n                :item=\"item\"\n                :field=\"field\"\n                :items=\"items\"\n                :toggle-details=\"() => toggleRowDetails(item)\"\n                :details-showing=\"isTableItem(item) ? (getDetailsValue(item) ?? false) : false\"\n              >\n                <template v-if=\"!slots[`cell(${String(field.key)})`] && !slots['cell()']\">\n                  {{ formatItem(item, String(field.key), field.formatter) }}\n                </template>\n              </slot>\n            </component>\n          </BTr>\n\n          <template\n            v-if=\"isTableItem(item) && getDetailsValue(item) === true && slots['row-details']\"\n          >\n            <BTr aria-hidden=\"true\" role=\"presentation\" class=\"d-none\" />\n            <BTr\n              :class=\"getRowClasses(item, 'row-details')\"\n              :variant=\"item._rowVariant\"\n              v-bind=\"callTbodyTrAttrs(item, 'row-details')\"\n            >\n              <BTd :colspan=\"computedFieldsTotal\" :class=\"detailsTdClass\">\n                <slot\n                  name=\"row-details\"\n                  :item=\"item\"\n                  :toggle-details=\"() => toggleRowDetails(item)\"\n                  :fields=\"computedFields\"\n                  :index=\"itemIndex\"\n                />\n              </BTd>\n            </BTr>\n          </template>\n        </template>\n        <!-- This class is for specific targetting of this slot element -->\n        <BTr\n          v-if=\"!props.stacked && slots['bottom-row']\"\n          class=\"bottom-row\"\n          :class=\"getRowClasses(null, 'row-bottom')\"\n          v-bind=\"callTbodyTrAttrs(null, 'row-bottom')\"\n        >\n          <slot name=\"bottom-row\" :columns=\"computedFieldsTotal\" :fields=\"computedFields\" />\n        </BTr>\n      </slot>\n    </BTbody>\n    <BTfoot v-if=\"props.footClone\" v-bind=\"footerProps\">\n      <BTr\n        :variant=\"props.footRowVariant ?? props.headRowVariant\"\n        :class=\"props.tfootTrClass ?? props.theadTrClass\"\n      >\n        <BTh\n          v-for=\"field in computedFields\"\n          :key=\"field.key\"\n          scope=\"col\"\n          :class=\"getFieldColumnClasses(field)\"\n          :title=\"field.headerTitle\"\n          :abbr=\"field.headerAbbr\"\n          :style=\"field.thStyle\"\n          :variant=\"field.variant\"\n          :tabindex=\"shouldHeaderBeFocusable(field) ? '0' : undefined\"\n          v-bind=\"callThAttr(null, field, 'bottom')\"\n          @click=\"headerClicked(field, $event, true)\"\n          @keydown=\"handleHeaderKeydown(field, $event, true)\"\n        >\n          <div class=\"d-inline-flex flex-nowrap align-items-center gap-1\">\n            <div>\n              <!-- eslint-disable prettier/prettier -->\n              <!-- @vue-expect-error - typescript is generating 2322 errors for all properties after name, which is wrong -->\n              <slot\n                :name=\"calculatedFooterSlot(field.key)\"\n                :label=\"field.label\"\n                :column=\"field.key\"\n                :field=\"field as LiteralUnion<keyof Items>\"\n                :is-foot=\"true\"\n              >\n                <!-- eslint-enable prettier/prettier -->\n                {{ getTableFieldHeadLabel(field) }}\n              </slot>\n            </div>\n          </div>\n        </BTh>\n      </BTr>\n    </BTfoot>\n    <BTfoot v-else-if=\"slots['custom-foot']\" v-bind=\"footerProps\">\n      <slot\n        name=\"custom-foot\"\n        :fields=\"computedFields\"\n        :items=\"props.items\"\n        :columns=\"computedFieldsTotal\"\n      />\n    </BTfoot>\n    <caption v-if=\"slots['table-caption'] || props.caption\">\n      <slot name=\"table-caption\">\n        {{ props.caption }}\n      </slot>\n    </caption>\n  </BTableSimple>\n</template>\n\n<script setup lang=\"ts\" generic=\"Items\">\nimport {computed, inject, ref, watch} from 'vue'\nimport type {BTableLiteProps} from '../../types/ComponentProps'\nimport {\n  isTableField,\n  isTableItem,\n  type TableField,\n  type TableItem,\n  type TableRowThead,\n  type TableRowType,\n} from '../../types/TableTypes'\nimport BTableSimple from './BTableSimple.vue'\nimport BTbody from './BTbody.vue'\nimport BTd from './BTd.vue'\nimport BTfoot from './BTfoot.vue'\nimport BTh from './BTh.vue'\nimport BThead from './BThead.vue'\nimport BTr from './BTr.vue'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {get, pick} from '../../utils/object'\nimport {btableSimpleProps, getDataLabelAttr, getTableFieldHeadLabel} from '../../utils/tableUtils'\nimport {formatItem} from '../../utils/formatItem'\nimport {filterEvent} from '../../utils/filterEvent'\nimport {startCase} from '../../utils/stringUtils'\nimport type {LiteralUnion} from '../../types/LiteralUnion'\nimport {useId} from '../../composables/useId'\nimport type {BTableLiteEmits} from '../../types/ComponentEmits'\nimport type {BTableLiteSlots} from '../../types'\nimport {CODE_DOWN, CODE_END, CODE_HOME, CODE_UP} from '../../utils/constants'\nimport {stopEvent} from '../../utils/event'\nimport {tableKeyboardNavigationKey} from '../../utils/keys'\n\nconst _props = withDefaults(defineProps<BTableLiteProps<Items>>(), {\n  caption: undefined,\n  align: undefined,\n  fields: () => [],\n  footClone: false,\n  items: () => [],\n  labelStacked: false,\n  fieldColumnClass: undefined,\n  tbodyTrClass: undefined,\n  detailsTdClass: undefined,\n  headVariant: undefined,\n  headRowVariant: undefined,\n  footRowVariant: undefined,\n  footVariant: undefined,\n  modelValue: undefined,\n  primaryKey: undefined,\n  tbodyClass: undefined,\n  tbodyTrAttrs: undefined,\n  tfootClass: undefined,\n  tfootTrClass: undefined,\n  theadClass: undefined,\n  theadTrClass: undefined,\n  // BTableSimpleProps props\n  borderVariant: undefined,\n  tableClass: undefined,\n  variant: undefined,\n  bordered: undefined,\n  borderless: undefined,\n  captionTop: undefined,\n  dark: undefined,\n  hover: undefined,\n  id: undefined,\n  noBorderCollapse: undefined,\n  outlined: undefined,\n  fixed: undefined,\n  responsive: undefined,\n  stacked: undefined,\n  striped: undefined,\n  stripedColumns: undefined,\n  small: undefined,\n  stickyHeader: undefined,\n  // End BTableSimpleProps props\n})\nconst props = useDefaults(_props, 'BTableLite')\nconst emit = defineEmits<BTableLiteEmits<Items>>()\nconst slots = defineSlots<BTableLiteSlots<Items>>()\n\n// Inject keyboard navigation state from parent BTable\nconst keyboardNavigation = inject(tableKeyboardNavigationKey, null)\n\nconst computedId = useId(() => props.id)\n\nconst generateDetailsItem = (item: TableItem): [object | string, boolean | undefined] => {\n  // Use primary key as the map key if available and the item has that key\n  if (props.primaryKey && get(item, props.primaryKey) !== undefined) {\n    return [String(get(item, props.primaryKey)), item._showDetails]\n  }\n  // Fall back to object reference\n  return [item, item._showDetails]\n}\n\n// Use WeakMap when no primaryKey (for memory efficiency), Map when primaryKey is defined (to support strings)\nconst detailsMap = ref<\n  Map<object | string, boolean | undefined> | WeakMap<object, boolean | undefined>\n>(props.primaryKey ? new Map() : new WeakMap())\n\n// Helper functions for type-safe map operations\nconst hasDetailsValue = (key: object | string): boolean => {\n  if (typeof key === 'string') {\n    // When using string keys, we must be using a Map\n    return (detailsMap.value as Map<object | string, boolean | undefined>).has(key)\n  }\n  // When using object keys, could be either Map or WeakMap\n  return detailsMap.value.has(key)\n}\n\nconst setDetailsValueByKey = (key: object | string, value: boolean | undefined): void => {\n  if (typeof key === 'string') {\n    // When using string keys, we must be using a Map\n    ;(detailsMap.value as Map<object | string, boolean | undefined>).set(key, value)\n  } else {\n    // When using object keys, could be either Map or WeakMap\n    detailsMap.value.set(key, value)\n  }\n}\n\n// Watch for primaryKey changes and recreate the map\nwatch(\n  () => props.primaryKey,\n  (newKey, oldKey) => {\n    // If primaryKey changes, clear and recreate the map with the appropriate type\n    if (newKey !== oldKey) {\n      detailsMap.value = newKey ? new Map() : new WeakMap()\n    }\n  }\n)\n\nwatch(\n  () => props.items,\n  (items) => {\n    items.forEach((item) => {\n      if (!isTableItem(item)) return\n      const [key, showDetails] = generateDetailsItem(item)\n      // Only set if not already in map, or if _showDetails is explicitly set\n      // This preserves toggled state when items are replaced with same primary key\n      if (!hasDetailsValue(key) || showDetails !== undefined) {\n        setDetailsValueByKey(key, showDetails)\n      }\n    })\n  },\n  {deep: true, immediate: true}\n)\n\nconst computedTableClasses = computed(() => [\n  props.tableClass,\n  {\n    [`align-${props.align}`]: props.align !== undefined,\n  },\n])\n\nconst computedFields = computed<(TableField<Items> & {_noHeader?: true})[]>(() => {\n  if (!props.fields.length && props.items.length) {\n    const [firstItem] = props.items\n    if (firstItem && (isTableItem(firstItem) || Array.isArray(firstItem))) {\n      return Object.keys(firstItem).map((k) => {\n        const label = startCase(k)\n        return {\n          key: k,\n          label,\n          tdAttr: getDataLabelAttr(props, label),\n        }\n      })\n    }\n    // The items are primitives, so we just return a single empty field\n    // No header will be shown, as we don't know what to show\n    return [{key: '', _noHeader: true}]\n  }\n\n  return props.fields.map((f) => {\n    if (isTableField(f)) {\n      const label = f.label ?? startCase(f.key as string)\n      return {\n        ...(f as TableField<Items>),\n        tdAttr: {...getDataLabelAttr(props, label), ...f.tdAttr},\n      }\n    }\n    const label = startCase(f as string)\n    return {\n      key: f as string,\n      label,\n      tdAttr: getDataLabelAttr(props, label),\n    }\n  })\n})\nconst computedFieldsTotal = computed(() => computedFields.value.length)\nconst showComputedHeaders = computed(() => {\n  // We only hide the header if all fields have _noHeader set to true. Which would be our doing\n  // This usually happens under a circumstance of displaying an array of primitives\n  // Under any other circumstance, I'm not sure how this would apply\n  if (computedFieldsTotal.value > 0 && computedFields.value.every((el) => el._noHeader === true))\n    return false\n  return true\n})\n\nconst footerProps = computed(() => ({\n  variant: props.footVariant ?? props.headVariant,\n  class: props.tfootClass ?? props.theadClass,\n}))\n\nconst calculatedFooterSlot = (key: LiteralUnion<keyof Items>): keyof typeof slots =>\n  slots[`foot(${String(key)})`]\n    ? `foot(${String(key)})`\n    : slots['foot()']\n      ? 'foot()'\n      : slots[`head(${String(key)})`]\n        ? `head(${String(key)})`\n        : 'head()'\n\nconst itemAttributes = (item: Items, fieldKey: string, attr?: unknown) => {\n  const val = get(item, fieldKey)\n  return attr && typeof attr === 'function' ? attr(val, fieldKey, item) : attr\n}\n\nconst callThAttr = (item: Items | null, field: TableField<Items>, type: TableRowThead) => {\n  const fieldKey = String(field.key)\n  const val = get(item, fieldKey)\n  return field.thAttr && typeof field.thAttr === 'function'\n    ? field.thAttr(val, fieldKey, item, type)\n    : field.thAttr\n}\n\nconst headerClicked = (field: TableField<Items>, event: Readonly<MouseEvent>, isFooter = false) => {\n  emit('head-clicked', field.key as string, field, event, isFooter)\n}\n\nconst getDetailsMapKey = (item: Items): object | string => {\n  if (isTableItem(item) && props.primaryKey && get(item, props.primaryKey) !== undefined) {\n    return String(get(item, props.primaryKey))\n  }\n  return item as object\n}\n\nconst getDetailsValue = (item: Items): boolean | undefined => {\n  const key = getDetailsMapKey(item)\n  if (typeof key === 'string') {\n    // When using string keys, we must be using a Map\n    return (detailsMap.value as Map<object | string, boolean | undefined>).get(key)\n  }\n  // When using object keys, could be either Map or WeakMap\n  return detailsMap.value.get(key)\n}\n\nconst setDetailsValue = (item: Items, value: boolean | undefined): void => {\n  const key = getDetailsMapKey(item)\n  setDetailsValueByKey(key, value)\n}\n\nconst toggleRowDetails = (tr: Items) => {\n  if (isTableItem(tr)) {\n    const prevValue = getDetailsValue(tr)\n    setDetailsValue(tr, !prevValue)\n    tr._showDetails = !prevValue\n  }\n}\n\nconst getFieldColumnClasses = (field: TableField) => [\n  field.class,\n  field.thClass,\n  {\n    'b-table-sticky-column': field.stickyColumn,\n  },\n  props.fieldColumnClass\n    ? typeof props.fieldColumnClass === 'function'\n      ? props.fieldColumnClass(field)\n      : props.fieldColumnClass\n    : null,\n]\n\nconst getFieldRowClasses = (field: Readonly<TableField>, tr: Items) => {\n  const val = get(tr, String(field.key))\n  return [\n    field.class,\n    typeof field.tdClass === 'function' ? field.tdClass(val, String(field.key), tr) : field.tdClass,\n    (isTableItem(tr) ? tr._cellVariants?.[field.key as string] : false)\n      ? `table-${(tr as TableItem)._cellVariants?.[field.key as string]}`\n      : null,\n    {\n      'b-table-sticky-column': field.stickyColumn,\n    },\n  ]\n}\n\nconst handleMiddleClick = (item: Items, itemIndex: number, event: MouseEvent) => {\n  if (event.button === 1 && !filterEvent(event)) {\n    emit('row-middle-clicked', item, itemIndex, event)\n  }\n}\nconst callTbodyTrAttrs = (item: Items | null, type: TableRowType) =>\n  props.tbodyTrAttrs\n    ? typeof props.tbodyTrAttrs === 'function'\n      ? props.tbodyTrAttrs(item, type)\n      : props.tbodyTrAttrs\n    : null\n\nconst getRowClasses = (item: Items | null, type: TableRowType) =>\n  props.tbodyTrClass\n    ? typeof props.tbodyTrClass === 'function'\n      ? props.tbodyTrClass(item, type)\n      : props.tbodyTrClass\n    : null\n\nconst generateTableRowId = (primaryKeyValue: string) =>\n  `${computedId.value}__row_${primaryKeyValue}`\n\nconst getCellComponent = (field: Readonly<TableField>) => {\n  if (field?.isRowHeader) {\n    return BTh\n  }\n  return BTd\n}\n\n// Keyboard navigation support\nconst shouldHeaderBeFocusable = (field: TableField<Items>) =>\n  !!(keyboardNavigation?.headerNavigation.value && field.sortable === true)\n\nconst shouldRowBeFocusable = computed(\n  () => !!(keyboardNavigation?.rowNavigation.value && props.items.length > 0)\n)\n\nconst handleHeaderKeydown = (field: TableField<Items>, event: KeyboardEvent, isFooter = false) => {\n  const {target, code} = event\n\n  if (target && (target as Element).tagName !== 'TH' && document.activeElement === target) return\n\n  if (code === 'Enter' || code === 'NumpadEnter' || code === 'Space') {\n    stopEvent(event)\n    headerClicked(field, event as unknown as MouseEvent, isFooter)\n  }\n}\n\nconst handleRowKeydown = (item: Items, itemIndex: number, event: KeyboardEvent) => {\n  const {target, code, shiftKey} = event\n\n  if (target && (target as Element).tagName !== 'TR' && document.activeElement === target) return\n\n  if (code === 'Enter' || code === 'NumpadEnter' || code === 'Space') {\n    stopEvent(event)\n    emit('row-clicked', item, itemIndex, event as unknown as MouseEvent)\n    return\n  }\n\n  if (code === CODE_DOWN || code === CODE_UP || code === CODE_HOME || code === CODE_END) {\n    stopEvent(event)\n    handleRowNavigation(code, shiftKey, itemIndex)\n  }\n}\n\nconst handleRowNavigation = (code: string, shiftKey: boolean, currentIndex: number) => {\n  const rows = Array.from(\n    document.querySelectorAll(`#${computedId.value} tbody tr[tabindex]`)\n  ) as HTMLTableRowElement[]\n\n  if (rows.length === 0) return\n\n  let targetIndex = currentIndex\n\n  if (code === CODE_DOWN) {\n    if (shiftKey) {\n      targetIndex = rows.length - 1 // Go to last row\n    } else {\n      targetIndex = Math.min(currentIndex + 1, rows.length - 1) // Go to next row\n    }\n  } else if (code === CODE_UP) {\n    if (shiftKey) {\n      targetIndex = 0 // Go to first row\n    } else {\n      targetIndex = Math.max(currentIndex - 1, 0) // Go to previous row\n    }\n  } else if (code === CODE_END) {\n    targetIndex = rows.length - 1 // Go to last row\n  } else if (code === CODE_HOME) {\n    targetIndex = 0 // Go to first row\n  }\n\n  if (targetIndex !== currentIndex && rows[targetIndex]) {\n    rows[targetIndex].focus()\n  }\n}\n\nconst computedSimpleProps = computed(() => ({\n  ...pick(props, btableSimpleProps),\n  tableClass: computedTableClasses.value,\n  id: computedId.value,\n}))\n</script>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    fill=\"currentColor\"\n    :class=\"iconClass\"\n    :style=\"{opacity: iconOpacity}\"\n    viewBox=\"0 0 16 16\"\n    aria-hidden=\"true\"\n  >\n    <path fill-rule=\"evenodd\" :d=\"iconPath\" />\n  </svg>\n</template>\n\n<script setup lang=\"ts\" generic=\"Items\">\nimport {computed} from 'vue'\nimport type {BTableInitialSortDirection, BTableSortBy, TableField} from '../types/TableTypes'\n\nconst props = defineProps<{\n  fieldInfo: TableField<Items>\n  sortBy?: BTableSortBy[]\n  initialSortDirection?: BTableInitialSortDirection\n}>()\n\nconst currentSort = computed(() => props.sortBy?.find((el) => el.key === props.fieldInfo.key))\n\nconst ascPath =\n  'M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z'\nconst descPath =\n  'M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z'\n\nconst resolvedDirection = computed(() => {\n  if (currentSort.value?.order) return currentSort.value.order\n\n  const fieldInitialDirection = props.fieldInfo.initialSortDirection || props.initialSortDirection\n\n  if (fieldInitialDirection === 'last') {\n    const lastSorted = [...(props.sortBy ?? [])].reverse().find((sort) => sort.order !== undefined)\n    return lastSorted?.order || 'asc'\n  }\n\n  return fieldInitialDirection === 'desc' ? 'desc' : 'asc'\n})\n\nconst iconPath = computed(() => (resolvedDirection.value === 'desc' ? descPath : ascPath))\n\nconst iconClass = computed(() =>\n  resolvedDirection.value === 'desc' ? 'bi bi-arrow-down-short' : 'bi bi-arrow-up-short'\n)\n\nconst iconOpacity = computed(() => (currentSort.value?.order ? 1 : 0.4))\n</script>\n","<template>\n  <!-- eslint-disable prettier/prettier -->\n  <BTableLite v-bind=\"computedLiteProps\">\n    <template v-if=\"slots['table-colgroup']\" #table-colgroup=\"scope\">\n      <slot name=\"table-colgroup\" v-bind=\"scope\" />\n    </template>\n    <!-- eslint-enable prettier/prettier -->\n    <template v-if=\"slots['thead-top']\" #thead-top=\"scope\">\n      <slot\n        name=\"thead-top\"\n        v-bind=\"scope\"\n        :clear-selected=\"exposedSelectableUtilities.clearSelected\"\n        :select-all-rows=\"exposedSelectableUtilities.selectAllRows\"\n        :fields=\"computedFields\"\n      />\n    </template>\n    <template v-if=\"slots['thead-sub']\" #thead-sub=\"scope\">\n      <slot name=\"thead-sub\" v-bind=\"scope\" :fields=\"computedFields\" />\n    </template>\n    <template v-if=\"slots['top-row']\" #top-row=\"scope\">\n      <slot name=\"top-row\" v-bind=\"scope\" :fields=\"computedFields\" />\n    </template>\n    <template v-if=\"slots['row-details']\" #row-details=\"scope\">\n      <slot\n        name=\"row-details\"\n        v-bind=\"scope\"\n        :fields=\"computedFields\"\n        :select-row=\"() => exposedSelectableUtilities.selectRow(scope.index)\"\n        :unselect-row=\"() => exposedSelectableUtilities.unselectRow(scope.index)\"\n        :row-selected=\"exposedSelectableUtilities.isRowSelected(scope.index)\"\n      />\n    </template>\n    <template v-if=\"slots['bottom-row']\" #bottom-row=\"scope\">\n      <slot name=\"bottom-row\" v-bind=\"scope\" :fields=\"computedFields\" />\n    </template>\n    <template v-if=\"slots['custom-foot']\" #custom-foot=\"scope\">\n      <slot name=\"custom-foot\" v-bind=\"scope\" :fields=\"computedFields\" />\n    </template>\n    <template v-if=\"slots['table-caption']\" #table-caption>\n      <slot name=\"table-caption\" />\n    </template>\n    <template v-for=\"name in dynamicCellSlots\" #[name]=\"scope\">\n      <slot\n        :name\n        v-bind=\"scope\"\n        :select-row=\"() => exposedSelectableUtilities.selectRow(scope.index)\"\n        :unselect-row=\"() => exposedSelectableUtilities.unselectRow(scope.index)\"\n        :row-selected=\"exposedSelectableUtilities.isRowSelected(scope.index)\"\n      />\n    </template>\n    <template v-for=\"name in dynamicFootSlots\" #[name]=\"scope\">\n      <slot\n        :name\n        v-bind=\"scope\"\n        :select-all-rows=\"exposedSelectableUtilities.selectAllRows\"\n        :clear-selected=\"exposedSelectableUtilities.clearSelected\"\n      />\n    </template>\n\n    <template\n      v-for=\"field in computedFields\"\n      :key=\"field.key\"\n      #[`head(${String(field.key)})`]=\"scope\"\n    >\n      <slot\n        :name=\"\n          slots[`head(${String(field.key)})`]\n            ? (`head(${String(field.key)})` as 'head()')\n            : 'head()'\n        \"\n        v-bind=\"scope\"\n        :select-all-rows=\"exposedSelectableUtilities.selectAllRows\"\n        :clear-selected=\"exposedSelectableUtilities.clearSelected\"\n      >\n        {{ getTableFieldHeadLabel(field) }}\n      </slot>\n      <template v-if=\"isSortable && !!scope.field.sortable && props.noSortableIcon === false\">\n        <slot\n          v-if=\"sortByModel?.find((el) => el.key === scope.field.key)?.order === 'asc'\"\n          v-bind=\"scope\"\n          :name=\"\n            slots[`sortAsc(${String(scope.field.key)})`]\n              ? (`sortAsc(${String(scope.field.key)})` as 'sortAsc()')\n              : 'sortAsc()'\n          \"\n        >\n          <SortIcon\n            :field-info=\"scope.field\"\n            :sort-by=\"sortByModel\"\n            :initial-sort-direction=\"props.initialSortDirection\"\n          />\n        </slot>\n        <slot\n          v-else-if=\"sortByModel?.find((el) => el.key === scope.field.key)?.order === 'desc'\"\n          v-bind=\"scope\"\n          :name=\"\n            slots[`sortDesc(${String(scope.field.key)})`]\n              ? (`sortDesc(${String(scope.field.key)})` as 'sortDesc()')\n              : 'sortDesc()'\n          \"\n        >\n          <SortIcon\n            :field-info=\"scope.field\"\n            :sort-by=\"sortByModel\"\n            :initial-sort-direction=\"props.initialSortDirection\"\n          />\n        </slot>\n        <slot\n          v-else\n          v-bind=\"scope\"\n          :name=\"\n            slots[`sortDefault(${String(scope.field.key)})`]\n              ? (`sortDefault(${String(scope.field.key)})` as 'sortDefault()')\n              : 'sortDefault()'\n          \"\n        >\n          <SortIcon\n            :field-info=\"scope.field\"\n            :sort-by=\"sortByModel\"\n            :initial-sort-direction=\"props.initialSortDirection\"\n          />\n        </slot>\n      </template>\n    </template>\n    <template #custom-body=\"scope\">\n      <BTr\n        v-if=\"busyModel && slots['table-busy']\"\n        class=\"b-table-busy-slot\"\n        :class=\"getBusyRowClasses\"\n      >\n        <BTd :colspan=\"scope.fields.length\">\n          <slot name=\"table-busy\" />\n        </BTd>\n      </BTr>\n\n      <BTr\n        v-else-if=\"props.showEmpty === true && computedItems.length === 0\"\n        class=\"b-table-empty-row\"\n      >\n        <BTd :colspan=\"computedFields.length\">\n          <div role=\"alert\" aria-live=\"polite\">\n            <div class=\"text-center my-2\">\n              <slot v-if=\"isFilterableTable\" name=\"empty-filtered\" v-bind=\"emptySlotScope\">\n                {{ props.emptyFilteredText }}\n              </slot>\n              <slot v-else name=\"empty\" v-bind=\"emptySlotScope\">\n                {{ props.emptyText }}\n              </slot>\n            </div>\n          </div>\n        </BTd>\n      </BTr>\n    </template>\n  </BTableLite>\n</template>\n\n<script setup lang=\"ts\" generic=\"Items\">\nimport {useToNumber} from '@vueuse/core'\nimport {computed, onMounted, provide, type Ref, ref, watch} from 'vue'\nimport {formatItem} from '../../utils/formatItem'\nimport BTableLite from './BTableLite.vue'\nimport BTd from './BTd.vue'\nimport BTr from './BTr.vue'\nimport SortIcon from '../SortIcon.vue'\nimport {\n  type BTableSortBy,\n  type BTableSortByOrder,\n  isTableField,\n  isTableItem,\n  type NoProviderTypes,\n  type TableField,\n  type TableFieldFormatter,\n  type TableFieldRaw,\n  type TableItem,\n  type TableRowType,\n  type TableStrictClassValue,\n} from '../../types/TableTypes'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BTableProps} from '../../types/ComponentProps'\nimport type {BTableEmits, BTableLiteEmits} from '../../types/ComponentEmits'\nimport {deepEqual, get, pick, set} from '../../utils/object'\nimport {startCase} from '../../utils/stringUtils'\nimport {\n  btableLiteProps,\n  btableSimpleProps,\n  getDataLabelAttr,\n  getTableFieldHeadLabel,\n} from '../../utils/tableUtils'\nimport {useId} from '../../composables/useId'\nimport type {BTableSlots, CamelCase} from '../../types'\nimport {tableKeyboardNavigationKey} from '../../utils/keys'\nimport {useDebounceFn} from '../../utils/debounce'\n\nconst _props = withDefaults(\n  defineProps<Omit<BTableProps<Items>, 'sortBy' | 'busy' | 'selectedItems'>>(),\n  {\n    noSortableIcon: false,\n    perPage: Number.POSITIVE_INFINITY,\n    filter: undefined,\n    filterFunction: undefined,\n    mustSort: false,\n    initialSortDirection: 'asc',\n    filterable: undefined,\n    provider: undefined,\n    noProvider: undefined,\n    noProviderPaging: false,\n    noProviderSorting: false,\n    multisort: false,\n    noProviderFiltering: false,\n    noLocalSorting: false,\n    noSelectOnClick: false,\n    selectable: false,\n    stickySelect: false,\n    selectHead: true,\n    selectMode: 'multi',\n    selectionVariant: 'primary',\n    busyLoadingText: 'Loading...',\n    currentPage: 1,\n    sortCompare: undefined,\n    debounce: 0,\n    debounceMaxWait: Number.NaN,\n    // BTableLite props\n    items: () => [],\n    fields: () => [],\n    // All others use defaults\n    caption: undefined,\n    align: undefined,\n    footClone: undefined,\n    labelStacked: undefined,\n    showEmpty: false,\n    emptyText: 'There are no records to show',\n    emptyFilteredText: 'There are no records matching your request',\n    fieldColumnClass: undefined,\n    tbodyTrClass: undefined,\n    detailsTdClass: undefined,\n    headVariant: undefined,\n    headRowVariant: undefined,\n    footRowVariant: undefined,\n    footVariant: undefined,\n    modelValue: undefined,\n    primaryKey: undefined,\n    tbodyClass: undefined,\n    tfootClass: undefined,\n    tfootTrClass: undefined,\n    theadClass: undefined,\n    theadTrClass: undefined,\n    // End BTableLite props\n    // BTableSimple props\n    borderVariant: undefined,\n    variant: undefined,\n    bordered: undefined,\n    borderless: undefined,\n    captionTop: undefined,\n    dark: undefined,\n    hover: undefined,\n    id: undefined,\n    noBorderCollapse: undefined,\n    outlined: undefined,\n    fixed: undefined,\n    responsive: undefined,\n    stacked: undefined,\n    striped: undefined,\n    stripedColumns: undefined,\n    small: undefined,\n    stickyHeader: undefined,\n    // End BTableSimple props\n  }\n)\nconst props = useDefaults(_props, 'BTable')\nconst emit = defineEmits<BTableEmits<Items>>()\nconst slots = defineSlots<BTableSlots<Items>>()\n\nconst dynamicCellSlots = computed(\n  () => Object.keys(slots).filter((key) => key.startsWith('cell(')) as 'cell()'[]\n)\nconst dynamicFootSlots = computed(\n  () => Object.keys(slots).filter((key) => key.startsWith('foot(')) as 'foot()'[]\n)\n\nconst sortByModel = defineModel<BTableProps<Items>['sortBy']>('sortBy', {\n  default: undefined,\n})\nconst busyModel = defineModel<Exclude<BTableProps<Items>['busy'], undefined>>('busy', {\n  default: false,\n})\nconst selectedItemsModel = defineModel<Exclude<BTableProps<Items>['selectedItems'], undefined>>(\n  'selectedItems',\n  {\n    default: () => [],\n  }\n)\n\nconst computedId = useId(() => props.id)\n\nconst selectedItemsToSet = computed({\n  get: () => new Set(selectedItemsModel.value),\n  set: (val) => {\n    selectedItemsModel.value = [...val]\n  },\n})\n\nwatch(selectedItemsToSet, (newValue, oldValue) => {\n  Array.from(oldValue)\n    .filter((item) => !newValue.has(item))\n    .forEach((item) => {\n      emit('row-unselected', item)\n    })\n  Array.from(newValue)\n    .filter((item) => !oldValue.has(item))\n    .forEach((item) => {\n      emit('row-selected', item)\n    })\n})\n/**\n * This is to avoid the issue of directly mutating the array structure and to properly trigger the computed setter.\n * The utils also conveniently emit the proper events after\n */\nconst selectedItemsSetUtilities = {\n  add: (item: Items) => {\n    const value = new Set(selectedItemsToSet.value)\n    value.add(item)\n    selectedItemsToSet.value = value\n  },\n  clear: () => {\n    selectedItemsToSet.value.forEach((item) => {\n      selectedItemsSetUtilities.delete(item)\n    })\n  },\n  delete: (item: Items) => {\n    const value = new Set(selectedItemsToSet.value)\n    if (props.primaryKey) {\n      const pkey: string = props.primaryKey\n      selectedItemsModel.value.forEach((v, i) => {\n        const selectedKey = get(v, pkey)\n        const itemKey = get(item, pkey)\n\n        if (!!selectedKey && !!itemKey && selectedKey === itemKey) {\n          value.delete(selectedItemsModel.value[i])\n        }\n      })\n    } else {\n      value.delete(item)\n    }\n    selectedItemsToSet.value = value\n  },\n  set: (items: Items[]) => {\n    selectedItemsToSet.value = new Set(items)\n  },\n  has: (item: Items) => {\n    if (!props.primaryKey) return selectedItemsToSet.value.has(item)\n\n    // Resolver for when we are using primary keys\n    const pkey: string = props.primaryKey\n    for (const selected of selectedItemsToSet.value) {\n      const selectedKey = get(selected, pkey)\n      const itemKey = get(item, pkey)\n\n      if (!!selectedKey && !!itemKey && selectedKey === itemKey) return true\n    }\n    return false\n  },\n} as const\n\n/**\n * Only stores data that is fetched when using the provider\n */\nconst internalItems: Ref<Items[]> = ref([])\n\nconst perPageNumber = useToNumber(() => props.perPage, {method: 'parseInt'})\nconst currentPageNumber = useToNumber(() => props.currentPage, {method: 'parseInt'})\nconst debounceNumber = useToNumber(() => props.debounce ?? 0, {nanToZero: true})\nconst debounceMaxWaitNumber = useToNumber(() => props.debounceMaxWait ?? Number.NaN)\n\nconst isFilterableTable = computed(() => !!props.filter)\nconst usesProvider = computed(() => props.provider !== undefined)\nconst isSelecting = computed(() => selectedItemsToSet.value.size > 0)\n\nconst isSortable = computed(\n  () =>\n    sortByModel.value !== undefined ||\n    props.fields.some(\n      (field) => typeof field === 'object' && field !== null && field.sortable === true\n    )\n)\n\n// Provide keyboard navigation state to child components\nconst keyboardRowNavigation = computed(() => !!(props.selectable && !props.noSelectOnClick))\nconst keyboardHeaderNavigation = computed(() => !!isSortable.value)\n\nprovide(tableKeyboardNavigationKey, {\n  rowNavigation: keyboardRowNavigation,\n  headerNavigation: keyboardHeaderNavigation,\n})\n\nconst computedFields = computed<TableField<Items>[]>(() =>\n  props.fields.map((el) => {\n    if (!isTableField<Items>(el)) {\n      const label = startCase(el as string)\n      return {\n        key: el as string,\n        label,\n        tdAttr: getDataLabelAttr(props, label),\n      }\n    }\n\n    const value = sortByModel.value?.find((sb) => el.key === sb.key)\n    const sortValue =\n      isSortable.value === false\n        ? undefined\n        : value === undefined\n          ? 'none'\n          : value.order === 'desc'\n            ? 'descending'\n            : value.order === 'asc'\n              ? 'ascending'\n              : 'none'\n\n    return {\n      ...(el as TableField<Items>),\n      thAttr: {\n        'aria-sort': sortValue,\n        ...el.thAttr,\n      },\n    }\n  })\n)\n\nconst tableClasses = computed(() => ({\n  'b-table-busy': busyModel.value,\n  'b-table-selectable': props.selectable,\n  'user-select-none': props.selectable && isSelecting.value,\n  'b-table-fixed': props.fixed,\n  'b-table-no-border-collapse': props.noBorderCollapse,\n}))\n\nconst getBusyRowClasses = computed(() => [\n  props.tbodyTrClass\n    ? typeof props.tbodyTrClass === 'function'\n      ? props.tbodyTrClass(null, 'table-busy')\n      : props.tbodyTrClass\n    : null,\n])\nconst getFieldColumnClasses = (field: TableField) => [\n  {\n    'b-table-sortable-column': isSortable.value && field.sortable,\n  },\n]\n// TODO this class has issues if the table has a variant already applied\n// Also the row should technically have aria-selected. Both things could probably just use a function with tbodyTrAttrs\n// But functional tbodyTrAttrs are not supported yet\n// Also the stuff for resolving functions could probably be made a util\nconst getRowClasses = (item: Items | null, type: TableRowType): TableStrictClassValue => [\n  {\n    [`selected table-${props.selectionVariant}`]:\n      props.selectable && !!item && selectedItemsSetUtilities.has(item),\n  },\n  props.tbodyTrClass\n    ? typeof props.tbodyTrClass === 'function'\n      ? props.tbodyTrClass(item, type)\n      : props.tbodyTrClass\n    : null,\n]\n\nconst getFormatter = (value: TableField<Items>): TableFieldFormatter<Items> | undefined =>\n  typeof value.sortByFormatted === 'function' ? value.sortByFormatted : value.formatter\n\nconst getStringValue = (ob: Items, key: string): string => {\n  if (!isTableItem(ob)) return String(ob)\n\n  const sortField = computedFields.value.find((el) => {\n    if (isTableField<Items>(el)) return el.key === key\n\n    return false\n  })\n  const val = get(ob, key as keyof TableItem)\n  if (isTableField<Items>(sortField) && !!sortField.sortByFormatted) {\n    const formatter = getFormatter(sortField)\n    if (formatter) {\n      return String(formatItem(ob, String(sortField.key), formatter))\n    }\n  }\n  return typeof val === 'object' && val !== null ? JSON.stringify(val) : (val?.toString() ?? '')\n}\n\nconst fieldByKey = computed(() => {\n  const map = new Map<string | number | symbol, TableField<Items>>()\n  for (const f of computedFields.value) if (isTableField<Items>(f)) map.set(f.key, f)\n  return map\n})\n\nconst computedItems = computed<Items[]>(() => {\n  const sortByItems = sortByModel.value?.filter((el) => !!el.order)\n\n  const mapItem = (item: Items): Items => {\n    if (\n      typeof item === 'object' &&\n      item !== null &&\n      Object.keys(item).some((key) => key.includes('.'))\n    ) {\n      let newItem: Partial<Items> = {}\n      for (const key in item) {\n        if (key.includes('.')) {\n          newItem = set(newItem, key, item[key])\n        } else {\n          newItem[key] = item[key]\n        }\n      }\n      return newItem as Items // This should be an items at this point\n    }\n    return item\n  }\n\n  const filterItem = (item: Items): boolean => {\n    if (!isTableItem(item)) return true\n\n    return Object.entries(item).some(([key, val]) => {\n      if (\n        val === null ||\n        val === undefined ||\n        key[0] === '_' ||\n        (!props.filterable?.includes(key) && !!props.filterable?.length)\n      )\n        return false\n\n      if (props.filterFunction && typeof props.filterFunction === 'function') {\n        return props.filterFunction(item, props.filter)\n      }\n\n      const realVal = (): string => {\n        const filterField = computedFields.value.find((el) => {\n          if (isTableField<Items>(el)) return el.key === key\n          return false\n        })\n        if (isTableField<Items>(filterField) && !!filterField.filterByFormatted) {\n          const formatter = getFormatter(filterField)\n          if (formatter) {\n            return String(formatter(val, String(filterField.key), item))\n          }\n        }\n        return typeof val === 'object' ? JSON.stringify(Object.values(val)) : val.toString()\n      }\n      const itemValue: string = realVal()\n      return itemValue.toLowerCase().includes(props.filter?.toLowerCase() ?? '')\n    })\n  }\n\n  const mappedItems = (usesProvider.value ? internalItems.value : props.items).reduce(\n    (acc, val) => {\n      const item = mapItem(val)\n      const shouldFilter =\n        isFilterableTable.value && (!usesProvider.value || props.noProviderFiltering)\n\n      if (!shouldFilter || filterItem(item)) acc.push(item)\n\n      return acc\n    },\n    [] as Items[]\n  )\n\n  if (\n    sortByItems?.length &&\n    ((isSortable.value === true && !usesProvider.value && !props.noLocalSorting) ||\n      (isSortable.value === true && usesProvider.value && props.noProviderSorting))\n  ) {\n    // Multi-sort\n    return mappedItems.sort((a, b) => {\n      for (let i = 0; i < sortByItems.length; i++) {\n        const {key, order} = sortByItems[i]\n        const field = fieldByKey.value.get(key)\n        const comparer = field?.sortCompare || props.sortCompare\n        const comparison = comparer\n          ? comparer(a, b, key)\n          : getStringValue(a, key).localeCompare(getStringValue(b, key), undefined, {numeric: true})\n\n        if (comparison !== 0) {\n          return order === 'asc' ? comparison : -comparison\n        }\n      }\n      return 0 // items are equal\n    })\n  }\n\n  return mappedItems\n})\n\nconst emptySlotScope = computed(() => ({\n  emptyFilteredText: props.emptyFilteredText,\n  emptyText: props.emptyText,\n  fields: computedFields.value,\n  items: computedItems.value,\n}))\n\nconst computedDisplayItems = computed<Items[]>(() => {\n  if (Number.isNaN(perPageNumber.value) || (usesProvider.value && !props.noProviderPaging)) {\n    return computedItems.value\n  }\n\n  return computedItems.value.slice(\n    (currentPageNumber.value - 1) * (perPageNumber.value || Number.POSITIVE_INFINITY),\n    currentPageNumber.value * (perPageNumber.value || Number.POSITIVE_INFINITY)\n  )\n})\n\nwatch(computedDisplayItems, (v) => {\n  emit('change', v)\n})\n\nconst handleRowSelection = (\n  row: Items,\n  index: number,\n  shiftClicked = false,\n  ctrlClicked = false,\n  metaClicked = false\n) => {\n  if (!props.selectable) return\n\n  if (props.selectMode === 'single' || props.selectMode === 'multi') {\n    // Do nothing when these items are held\n    if (shiftClicked || ctrlClicked) return\n    // Delete if item is in\n    if (selectedItemsSetUtilities.has(row)) {\n      selectedItemsSetUtilities.delete(row)\n    } else {\n      if (props.selectMode === 'single') {\n        selectedItemsSetUtilities.set([row])\n      } else {\n        selectedItemsSetUtilities.add(row)\n      }\n    }\n  } else {\n    if (ctrlClicked || metaClicked) {\n      // Delete if in the object\n      if (selectedItemsSetUtilities.has(row)) {\n        selectedItemsSetUtilities.delete(row)\n        // Otherwise add. Functions similarly to 'multi' at this point\n      } else {\n        selectedItemsSetUtilities.add(row)\n      }\n      // This is where range is different, due to the difference in shift\n    } else if (shiftClicked) {\n      const lastSelectedItem = [...selectedItemsToSet.value].pop()\n      const lastSelectedIndex = computedItems.value.findIndex((i) => i === lastSelectedItem)\n      const selectStartIndex = Math.min(lastSelectedIndex, index)\n      const selectEndIndex = Math.max(lastSelectedIndex, index)\n      const items = computedItems.value.slice(selectStartIndex, selectEndIndex + 1)\n      selectedItemsSetUtilities.set(items)\n      // If nothing is being held, then we just behave like it's single mode\n    } else {\n      selectedItemsSetUtilities.set([row])\n    }\n  }\n}\n\nconst handleFieldSorting = (field: TableField<Items>) => {\n  if (!isSortable.value) return\n\n  const fieldKey = typeof field === 'object' && field !== null ? field.key : field\n  const fieldSortable = typeof field === 'object' && field !== null ? field.sortable : false\n\n  if (!(isSortable.value === true && fieldSortable === true)) return\n\n  // Get the last sorted direction from the current sort model (last entry with a defined order)\n  //   Exclude the current column if it's already in the sortBy array\n  const getLastSortDirection = (): BTableSortByOrder => {\n    const lastSorted = [...(sortByModel.value ?? [])]\n      .reverse()\n      .find((sort) => sort.order !== undefined && sort.key !== fieldKey)\n    return lastSorted?.order ?? 'asc'\n  }\n\n  // Determine initial sort direction for new sorts\n  const getInitialSortDirection = (): BTableSortByOrder => {\n    // Handle field-level prop\n    if (typeof field === 'object' && field !== null && field.initialSortDirection) {\n      if (field.initialSortDirection === 'last') {\n        return getLastSortDirection()\n      }\n      return field.initialSortDirection\n    }\n    // Handle table-level prop\n    if (props.initialSortDirection) {\n      if (props.initialSortDirection === 'last') {\n        return getLastSortDirection()\n      }\n      return props.initialSortDirection\n    }\n    return 'asc'\n  }\n\n  const resolveOrder = (val: BTableSortByOrder | undefined): BTableSortByOrder | undefined => {\n    // New sort: honor the configured initial direction\n    if (val === undefined) return getInitialSortDirection()\n    // Determine initial direction for this field\n    const initial = getInitialSortDirection()\n    const must =\n      props.mustSort === true ||\n      (Array.isArray(props.mustSort) && props.mustSort.includes(fieldKey as string))\n    if (val === 'asc') {\n      if (initial === 'desc') {\n        // If mustSort, cycle asc -> desc, else asc -> undefined\n        return must ? 'desc' : undefined\n      }\n      // If initial is asc, cycle asc -> desc -> undefined (or asc if mustSort)\n      return 'desc'\n    }\n    if (val === 'desc') {\n      if (initial === 'desc') {\n        return 'asc'\n      }\n      // If mustSort, cycle desc -> asc, else desc -> undefined\n      return must ? 'asc' : undefined\n    }\n    return undefined\n  }\n\n  const index = sortByModel.value?.findIndex((el) => el.key === fieldKey) ?? -1\n  const originalValue = sortByModel.value?.[index]\n  const updatedValue: BTableSortBy =\n    // If value is new, we use the field's initialSortDirection or default to ascending\n    // Otherwise we make a temp copy of the value\n    index === -1 || !originalValue\n      ? {key: fieldKey as string, order: getInitialSortDirection()}\n      : {...originalValue}\n\n  /**\n   * @returns the updated value to emit for sorted\n   */\n  const handleMultiSort = (): BTableSortBy => {\n    const tmp = [...(sortByModel.value ?? [])]\n    const val = updatedValue\n    if (index === -1) {\n      tmp.push(val)\n    } else {\n      const order = resolveOrder(val.order)\n      if (order) {\n        val.order = order\n        tmp.splice(index, 1, val)\n      } else {\n        // Remove the value from the array and emit cleared sort for this key\n        val.order = undefined\n        tmp.splice(index, 1)\n      }\n    }\n    sortByModel.value = tmp\n    return val\n  }\n\n  /**\n   * @returns the updated value to emit for sorted\n   */\n  const handleSingleSort = (): BTableSortBy => {\n    const order = index === -1 ? updatedValue.order : resolveOrder(updatedValue.order)\n    const val = {\n      ...updatedValue,\n      order,\n    }\n    sortByModel.value = order ? [val] : []\n    return val\n  }\n\n  // Then emit the returned updated value\n  emit('sorted', props.multisort === true ? handleMultiSort() : handleSingleSort())\n}\n\n// AbortController for canceling previous provider requests\nlet abortController: AbortController | null = null\n\nconst callItemsProvider = async () => {\n  if (!usesProvider.value || props.provider === undefined) return\n\n  // Cancel any previous request\n  if (abortController) {\n    abortController.abort()\n  }\n\n  // Create a new AbortController for this request\n  abortController = new AbortController()\n  const {signal} = abortController\n\n  busyModel.value = true\n  const response = props.provider({\n    currentPage: currentPageNumber.value,\n    filter: props.filter,\n    sortBy: sortByModel.value,\n    perPage: perPageNumber.value,\n    signal,\n  })\n  try {\n    const items = response instanceof Promise ? await response : response\n\n    // Check if this request was aborted\n    if (signal.aborted) return\n\n    if (items === undefined) return\n    internalItems.value = items\n  } catch (error) {\n    // Ignore AbortError, re-throw others\n    if (error instanceof Error && error.name === 'AbortError') return\n    throw error\n  } finally {\n    // Only set busy to false if this request wasn't aborted (to avoid race condition)\n    if (!signal.aborted) {\n      busyModel.value = false\n    }\n  }\n}\n\n// Debounced version of callItemsProvider for filter changes to prevent rapid successive calls\nconst debouncedCallItemsProvider = useDebounceFn(callItemsProvider, debounceNumber, {\n  maxWait: debounceMaxWaitNumber,\n})\n\nconst providerPropsWatch = async (prop: string, val: unknown, oldVal: unknown) => {\n  if (deepEqual(val, oldVal)) return\n\n  //stop provide when paging\n  const inNoProvider = (key: NoProviderTypes) => props.noProvider?.includes(key) === true\n  const noProvideWhenPaging =\n    (prop === 'currentPage' || prop === 'perPage') &&\n    (inNoProvider('paging') || props.noProviderPaging === true)\n  const noProvideWhenFiltering =\n    prop === 'filter' && (inNoProvider('filtering') || props.noProviderFiltering === true)\n  const noProvideWhenSorting =\n    (prop === 'sortBy' || prop === 'sortDesc') &&\n    (inNoProvider('sorting') || props.noProviderSorting === true)\n\n  if (noProvideWhenPaging || noProvideWhenFiltering || noProvideWhenSorting) return\n\n  if (usesProvider.value === true) {\n    // Always use debounced version (when debounce is 0, it's immediate)\n    await debouncedCallItemsProvider()\n  }\n\n  if (!(prop === 'currentPage' || prop === 'perPage')) {\n    emit('filtered', [...computedItems.value])\n  }\n}\n\nwatch(\n  () => props.filter,\n  (filter, oldFilter) => {\n    providerPropsWatch('filter', filter, oldFilter)\n\n    if (filter === oldFilter || usesProvider.value) return\n    if (!filter) {\n      emit('filtered', [...computedItems.value])\n    }\n  }\n)\nwatch(currentPageNumber, (val, oldVal) => {\n  providerPropsWatch('currentPage', val, oldVal)\n})\nwatch(perPageNumber, (val, oldVal) => {\n  providerPropsWatch('perPage', val, oldVal)\n})\nwatch(\n  sortByModel,\n  (val, oldVal) => {\n    providerPropsWatch('sortBy', val, oldVal)\n  },\n  {deep: true}\n)\n\nwatch(\n  () => props.provider,\n  (newValue) => {\n    // Reset the internal values if the provider stops getting used\n    if (newValue === undefined) {\n      internalItems.value = []\n      return\n    }\n    // Otherwise we should refresh the table on such a change\n    callItemsProvider()\n  }\n)\n\nonMounted(callItemsProvider)\n\nconst exposedSelectableUtilities = {\n  clearSelected: () => {\n    if (!props.selectable) return\n    selectedItemsSetUtilities.clear()\n  },\n  selectAllRows: () => {\n    if (!props.selectable || props.selectMode === 'single') return\n    selectedItemsToSet.value = new Set(computedItems.value)\n  },\n  selectRow: (index: number) => {\n    if (!props.selectable) return\n    const item = computedItems.value[index]\n    if (!item || selectedItemsSetUtilities.has(item)) return\n    if (props.selectMode === 'single') {\n      selectedItemsSetUtilities.set([item])\n    } else {\n      selectedItemsSetUtilities.add(item)\n    }\n  },\n  unselectRow: (index: number) => {\n    if (!props.selectable) return\n    const item = computedItems.value[index]\n    if (!item || !selectedItemsSetUtilities.has(item)) return\n    selectedItemsSetUtilities.delete(item)\n  },\n  isRowSelected: (index: number) => {\n    if (!props.selectable) return false\n    const item = computedItems.value[index]\n    return selectedItemsSetUtilities.has(item)\n  },\n} as const\n\nconst boundBTableLiteEmits = {\n  onHeadClicked: (fieldKey, field, event, isFooter = false) => {\n    emit('head-clicked', fieldKey, field, event, isFooter)\n    handleFieldSorting(field)\n  },\n  onRowClicked: (row, index, e) => {\n    if (props.noSelectOnClick === false) {\n      handleRowSelection(row, index, e.shiftKey, e.ctrlKey, e.metaKey)\n    }\n    emit('row-clicked', row, index, e)\n  },\n  onRowDblclicked: (...args) => emit('row-dblclicked', ...args),\n  onRowContextmenu: (...args) => emit('row-contextmenu', ...args),\n  onRowHovered: (...args) => emit('row-hovered', ...args),\n  onRowUnhovered: (...args) => emit('row-unhovered', ...args),\n  onRowMiddleClicked: (...args) => emit('row-middle-clicked', ...args),\n} as const satisfies {\n  [K in keyof BTableLiteEmits<Items> as CamelCase<`on-${K & string}`>]: (\n    ...args: BTableLiteEmits<Items>[K]\n  ) => void\n}\nconst computedLiteProps = computed(() => ({\n  ...pick(props, [...btableLiteProps, ...btableSimpleProps]),\n  tableAttrs: {\n    ariaBusy: busyModel.value,\n  },\n  items: computedDisplayItems.value,\n  fields: computedFields.value as TableFieldRaw<Items>[],\n  tableClass: tableClasses.value,\n  tbodyTrClass: getRowClasses,\n  fieldColumnClass: getFieldColumnClasses,\n  id: computedId.value,\n  ...boundBTableLiteEmits,\n}))\n\ndefineExpose({\n  // The row selection methods are really for compat. Users should probably use the v-model though\n  ...exposedSelectableUtilities,\n  items: computedItems,\n  displayItems: computedDisplayItems,\n  getStringValue,\n  refresh: callItemsProvider,\n})\n</script>\n"],"names":["formatItem","item","fieldKey","formatter","val","get","isTableItem","value","isTableField","_props","__props","props","useDefaults","computedClasses","computed","variant","_createElementBlock","class","_renderSlot","_ctx","$slots","stickyColumn","colspan","_unref","rowspan","stackedHeading","_hoisted_2","key","localScope","scope","TABLE_TAG_NAMES","eventFilter","join","filterEvent","event","target","el","disabled","indexOf","tagName","closest","label","labelFor","getAttribute","input","document","getElementById","querySelector","matches","emit","__emit","slots","_useSlots","keyboardNavigation","inject","tableKeyboardNavigationKey","computedId","useId","id","detailsMap","ref","primaryKey","Map","WeakMap","setDetailsValueByKey","set","watch","newKey","oldKey","items","forEach","showDetails","String","_showDetails","generateDetailsItem","has","hasDetailsValue","deep","immediate","computedTableClasses","tableClass","align","computedFields","fields","length","firstItem","Array","isArray","Object","keys","map","k","startCase","tdAttr","getDataLabelAttr","_noHeader","f","computedFieldsTotal","showComputedHeaders","every","footerProps","footVariant","headVariant","tfootClass","theadClass","callThAttr","field","type","thAttr","headerClicked","isFooter","getDetailsMapKey","getDetailsValue","toggleRowDetails","tr","prevValue","setDetailsValue","getFieldColumnClasses","thClass","fieldColumnClass","getFieldRowClasses","tdClass","_cellVariants","callTbodyTrAttrs","tbodyTrAttrs","getRowClasses","tbodyTrClass","shouldHeaderBeFocusable","headerNavigation","sortable","shouldRowBeFocusable","rowNavigation","handleHeaderKeydown","code","activeElement","stopEvent","handleRowNavigation","shiftKey","currentIndex","rows","from","querySelectorAll","targetIndex","CODE_DOWN","Math","min","CODE_UP","max","CODE_END","CODE_HOME","focus","computedSimpleProps","pick","btableSimpleProps","_openBlock","_createBlock","BTableSimple","_hoisted_1","_createVNode","BThead","_normalizeClass","columns","BTr","headRowVariant","theadTrClass","_Fragment","_renderList","BTh","_mergeProps","title","headerTitle","abbr","headerAbbr","style","thStyle","tabindex","ref_for","onClick","$event","onKeydown","column","isFoot","_createTextVNode","_toDisplayString","getTableFieldHeadLabel","BTd","BTbody","tbodyClass","stacked","itemIndex","primaryKeyValue","_rowVariant","onDblclick","onContextmenu","onMouseenter","onMouseleave","onMousedown","button","handleMiddleClick","handleRowKeydown","_resolveDynamicComponent","isRowHeader","getCellComponent","attr","itemAttributes","labelStacked","unformatted","index","toggleDetails","detailsShowing","role","detailsTdClass","footClone","BTfoot","footRowVariant","tfootTrClass","_createElementVNode","_hoisted_3","caption","_hoisted_4","currentSort","sortBy","find","fieldInfo","resolvedDirection","order","fieldInitialDirection","initialSortDirection","lastSorted","reverse","sort","iconPath","iconClass","iconOpacity","xmlns","width","height","fill","viewBox","d","dynamicCellSlots","filter","startsWith","dynamicFootSlots","sortByModel","_useModel","busyModel","selectedItemsModel","selectedItemsToSet","Set","newValue","oldValue","selectedItemsSetUtilities","add","clear","delete","pkey","v","i","selectedKey","itemKey","selected","internalItems","perPageNumber","useToNumber","perPage","method","currentPageNumber","currentPage","debounceNumber","debounce","nanToZero","debounceMaxWaitNumber","debounceMaxWait","Number","NaN","isFilterableTable","usesProvider","provider","isSelecting","size","isSortable","some","keyboardRowNavigation","selectable","noSelectOnClick","keyboardHeaderNavigation","provide","sb","sortValue","tableClasses","fixed","noBorderCollapse","getBusyRowClasses","selectionVariant","getFormatter","sortByFormatted","getStringValue","ob","sortField","JSON","stringify","toString","fieldByKey","computedItems","sortByItems","mappedItems","reduce","acc","includes","newItem","mapItem","noProviderFiltering","entries","filterable","filterFunction","filterField","filterByFormatted","values","realVal","toLowerCase","filterItem","push","noLocalSorting","noProviderSorting","a","b","comparer","sortCompare","comparison","localeCompare","numeric","emptySlotScope","emptyFilteredText","emptyText","computedDisplayItems","isNaN","noProviderPaging","slice","POSITIVE_INFINITY","abortController","callItemsProvider","async","abort","AbortController","signal","response","Promise","aborted","error","Error","name","debouncedCallItemsProvider","useDebounceFn","maxWait","providerPropsWatch","prop","oldVal","deepEqual","inNoProvider","noProvider","noProvideWhenPaging","noProvideWhenFiltering","noProvideWhenSorting","oldFilter","onMounted","exposedSelectableUtilities","clearSelected","selectAllRows","selectMode","selectRow","unselectRow","isRowSelected","boundBTableLiteEmits","onHeadClicked","fieldSortable","getLastSortDirection","getInitialSortDirection","resolveOrder","initial","must","mustSort","findIndex","originalValue","updatedValue","multisort","tmp","splice","handleMultiSort","handleSingleSort","handleFieldSorting","onRowClicked","row","e","shiftClicked","ctrlClicked","metaClicked","lastSelectedItem","pop","lastSelectedIndex","selectStartIndex","selectEndIndex","handleRowSelection","ctrlKey","metaKey","onRowDblclicked","args","onRowContextmenu","onRowHovered","onRowUnhovered","onRowMiddleClicked","computedLiteProps","btableLiteProps","tableAttrs","ariaBusy","__expose","displayItems","refresh","BTableLite","_createSlots","_withCtx","showEmpty","_normalizeProps","fn","rowSelected","noSortableIcon","SortIcon"],"mappings":"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"}